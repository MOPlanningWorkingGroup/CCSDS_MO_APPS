<?xml version="1.0" encoding="UTF-8"?>
<mal:specification xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns:mal="http://www.ccsds.org/schema/ServiceSchema"
                   xmlns:com="http://www.ccsds.org/schema/COMSchema">

  <mal:area comment="Support for testing of the PR service." name="PlanningPrototype" number="300" version="1">

    <mal:service comment="Functionality for testing" name="PlanningRequestTest" number="1">

<!-- service extension seems to be ignored -->
<!--       <mal:extends> -->
<!--         <mal:type name="PlanningRequest" area="Planning"/> -->
<!--       </mal:extends> -->

      <mal:capabilitySet number="100">

        <mal:submitIP name="updatePrStatus" number="1" supportInReplay="false" comment="Updates PR status.">
          <mal:messages>
            <mal:submit>
              <mal:field name="prIds" comment="List of PR ids to update statuses of.">
                <mal:type list="true" name="Long" area="MAL"/>
              </mal:field>
              <mal:field name="prStats" comment="List of PR statuses.">
                <mal:type list="true" name="PlanningRequestStatusDetails" service="PlanningRequest" area="Planning"/>
              </mal:field>
            </mal:submit>
          </mal:messages>
        </mal:submitIP>

      </mal:capabilitySet>

      <mal:capabilitySet number="101">

        <mal:submitIP name="updateTaskStatus" number="2" supportInReplay="false" comment="Updates task status.">
          <mal:messages>
            <mal:submit>
              <mal:field name="taskIds" comment="List of task ids to update statuses of.">
                <mal:type list="true" name="Long" area="MAL"/>
              </mal:field>
              <mal:field name="taskStats" comment="List of task statuses.">
                <mal:type list="true" name="TaskStatusDetails" service="PlanningRequest" area="Planning"/>
              </mal:field>
            </mal:submit>
          </mal:messages>
        </mal:submitIP>

      </mal:capabilitySet>

    </mal:service>

  </mal:area>

</mal:specification>
